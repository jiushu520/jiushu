<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>玖数学的分数运算</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>




 body {
    margin: 0;
    padding: 0;
    height: 100%; /* 确保 html 和 body 占据整个视口的高度 */
    font-family: Arial, sans-serif;
    background-color: lightblue;
    display: flex; /* 使用 flex 布局 */
    flex-direction: column; /* 设置内容垂直堆叠 */
}

.main-container {
    display: flex;
    flex-grow: 1; /* 确保主容器填充所有可用空间 */
    width: 100%;
}

.left-column, .right-column {
    flex-grow: 1; /* 使两栏自适应剩余空间 */
    border: 1px solid grey; /* 添加灰色边框 */
    overflow: auto; /* 添加滚动条 */
}

.left-column {
    width: 10%;
}

.right-column {
    flex-grow: 9; /* 分配剩余空间的大部分给右栏 */
}

.left-column a {
    display: block; /* 让链接占据整行 */
    margin: 10px 0; /* 添加一些上下边距 */
    color: blue; /* 可以设置链接的颜色 */
    text-decoration: none; /* 移除下划线 */
    text-align: center; /* 文本居中 */

}

.left-column a:hover {
    text-decoration: underline; /* 鼠标悬停时添加下划线 */
}





        #title {
            text-align: center;
            margin-top: 10px;
        }

        #game-container {
            margin: 30px;
            text-align: center;
        }

        #equation {
            font-size: 2em;
            text-align: center;
            margin: 20px;
        }

        #options {
            text-align: center;
            margin: 20px;
        }

        .option {
            display: inline-block;
            margin: 0 10px;
            padding: 10px;

            cursor: pointer;
            margin: 0 10px 20px;
            border: 1px solid grey; /* 添加灰色边框 */
        }

        #scoreboard {
            text-align: center;
            margin: 20px;
        }

        #rounds-scoreboard {
            text-align: center;
            margin: 20px;
        }
      




    </style>
</head>

<body>
 <div class="main-container">
        <div class="left-column">
    <a href="https://jiushu520.github.io/jiushu/" target="_blank">目录</a><br>
    <a href="https://jiushu520.github.io/jiushu520/" target="_blank">分数混合运算</a><br>
    <a href="https://jiushu520.github.io/jiushu123/" target="_blank">二元一次方程</a>

        </div>
           <div class="right-column">



      <div id="title">
        <h1>玖数学的分数运算</h1>
        <h2>分数01同分母加减法:</h2>
    </div>
    <div id="game-container">
        <div id="equation"></div>
        <div id="options"></div>
        <div id="scoreboard">现在得分:<span id="score">0</span>,已回答:<span id="answered">0</span></div>
    </div>

     <div style="text-align: center; margin-top: 10px;">
        <button onclick="startNewRound()">重新开始</button>
        <button onclick="clearScores(); startNewRound();">清除所有</button>
      </div>

    <div id="rounds-scoreboard"> <span id="rounds-scores"></span></div>
   </div>
    <script>
        const questionBank = [

            { equation: "\\frac{1}{6}+\\frac{2}{6}=?", correctOption: "\\frac{1}{2}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{3}+\\frac{1}{3}=?", correctOption: "\\frac{2}{3}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{4}+\\frac{2}{4}=?", correctOption: "\\frac{3}{4}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{5}+\\frac{2}{5}=?", correctOption: "\\frac{3}{5}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{6}+\\frac{2}{6}=?", correctOption: "\\frac{1}{2}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{7}+\\frac{2}{7}=?", correctOption: "\\frac{3}{7}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{8}+\\frac{2}{8}=?", correctOption: "\\frac{3}{8}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{9}+\\frac{2}{9}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
            { equation: "\\frac{2}{3}+\\frac{1}{3}=?", correctOption: "1", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{2}{4}+\\frac{1}{4}=?", correctOption: "\\frac{3}{4}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{2}{5}+\\frac{1}{5}=?", correctOption: "\\frac{3}{5}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{2}+\\frac{1}{2}=?", correctOption: "1", incorrectOptions: ["\\frac{1}{4}", "\\frac{1}{3}", "\\frac{1}{5}"] },
            { equation: "\\frac{1}{3}+\\frac{1}{3}=?", correctOption: "\\frac{2}{3}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{5}", "\\frac{1}{4}"] },
            { equation: "\\frac{1}{4}+\\frac{2}{4}=?", correctOption: "\\frac{3}{4}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{3}"] },
            { equation: "\\frac{1}{5}+\\frac{3}{5}=?", correctOption: "\\frac{4}{5}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{4}"] },
            { equation: "\\frac{1}{6}+\\frac{4}{6}=?", correctOption: "\\frac{5}{6}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{3}"] },
            { equation: "\\frac{1}{7}+\\frac{5}{7}=?", correctOption: "\\frac{6}{7}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{4}"] },
            { equation: "\\frac{1}{8}+\\frac{6}{8}=?", correctOption: "\\frac{7}{8}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{3}"] },
            { equation: "\\frac{1}{9}+\\frac{7}{9}=?", correctOption: "\\frac{8}{9}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{4}"] },
            { equation: "\\frac{2}{9}+\\frac{6}{9}=?", correctOption: "\\frac{8}{9}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{3}"] },
            { equation: "\\frac{2}{8}+\\frac{5}{8}=?", correctOption: "\\frac{7}{8}", incorrectOptions: ["\\frac{1}{2}", "\\frac{2}{3}", "\\frac{1}{4}"] },

 { equation: "\\frac{2}{4}-\\frac{1}{4}=?", correctOption: "\\frac{1}{4}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{3}{6}-\\frac{1}{6}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
  { equation: "\\frac{2}{3}-\\frac{1}{3}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{3}{4}-\\frac{1}{4}=?", correctOption: "\\frac{1}{2}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{3}{5}-\\frac{1}{5}=?", correctOption: "\\frac{2}{5}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{3}{6}-\\frac{1}{6}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{4}-\\frac{2}{4}=?", correctOption: "\\frac{1}{2}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{6}-\\frac{2}{6}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
  { equation: "\\frac{3}{3}-\\frac{1}{3}=?", correctOption: "\\frac{2}{3}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{4}-\\frac{2}{4}=?", correctOption: "\\frac{1}{2}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{5}-\\frac{2}{5}=?", correctOption: "\\frac{2}{5}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{6}-\\frac{2}{6}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{4}-\\frac{3}{4}=?", correctOption: "\\frac{1}{4}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{5}{6}-\\frac{3}{6}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
  { equation: "\\frac{3}{3}-\\frac{2}{3}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{4}-\\frac{3}{4}=?", correctOption: "\\frac{1}{4}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{5}{5}-\\frac{3}{5}=?", correctOption: "\\frac{2}{5}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{5}{6}-\\frac{3}{6}=?", correctOption: "\\frac{1}{3}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },
  { equation: "\\frac{4}{4}-\\frac{3}{4}=?", correctOption: "\\frac{1}{4}", incorrectOptions: ["\\frac{1}{7}", "\\frac{2}{7}", "\\frac{1}{5}"] },
  { equation: "\\frac{5}{6}-\\frac{4}{6}=?", correctOption: "\\frac{1}{6}", incorrectOptions: ["\\frac{2}{5}", "\\frac{2}{3}", "\\frac{1}{5}"] },



        ];

        const maxQuestions = 10;
        let questionsAnswered = 0;
        let score = 0;
        let roundsScores = [];
        let currentEquationSystem; // 存储当前方程系统

        function generateEquationSystem() {
            const randomIndex = Math.floor(Math.random() * questionBank.length);
            const { equation, correctOption, incorrectOptions } = questionBank[randomIndex];

            // 随机化正确答案的位置
            const correctIndex = Math.floor(Math.random() * 4);
            const options = [...incorrectOptions];
            options.splice(correctIndex, 0, correctOption);

            // 存储当前方程系统
            currentEquationSystem = { equationSystem: `\\[ ${equation} \\]`, correctIndex, options };

            return currentEquationSystem;
        }

        function generateOptions(options) {
            const labels = ['A', 'B', 'C', 'D'];
            const optionsHTML = options.map((option, index) => {
                return `<div class="option" onclick="checkAnswer(${index})"><span>${labels[index]}. \\(${option}\\)</span></div>`;
            }).join('');

            document.getElementById('options').innerHTML = optionsHTML;
            MathJax.typeset(); // Tell MathJax to update the rendering
        }

        function startNewRound() {
            if (window.MathJax) {
                // Ensure MathJax has loaded before starting a new round
                MathJax.startup.promise.then(function() {
                    score = 0;
                    questionsAnswered = 0;
                    displayEquationSystem();
                    updateScoreboard();
                }).catch(function(error) {
                    console.error('Error while initializing MathJax', error);
                });
            } else {
                console.error('MathJax not found');
            }
        }

        function displayEquationSystem() {
            const { equationSystem, options } = generateEquationSystem();
            document.getElementById('equation').innerHTML = equationSystem;
            generateOptions(options);
        }

        function updateScoreboard() {
            document.getElementById('score').textContent = score;
            document.getElementById('answered').textContent = questionsAnswered;
        }

        function updateRoundsScoreboard() {
            let roundsScoresText = roundsScores.map((roundScore, index) => `第${index + 1}轮: ${roundScore}分共10题`).join('<br>');
            document.getElementById('rounds-scores').innerHTML = roundsScoresText;
        }

        function checkAnswer(selectedIndex) {
            const { correctIndex } = currentEquationSystem;

            if (parseInt(selectedIndex) === correctIndex) {
                score++;
            }

            questionsAnswered++;
            if (questionsAnswered >= maxQuestions) {
                roundsScores.push(score);
                questionsAnswered = 0;
                score = 0;
                updateRoundsScoreboard();
            }
            displayEquationSystem();
            updateScoreboard();
        }

        function clearScores() {
            roundsScores = [];
            updateRoundsScoreboard();
        }

        // Ensure MathJax is ready before starting the game
        window.onload = startNewRound;
    </script>
</body>

</html>
