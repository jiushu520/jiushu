<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <title>玖数学练习</title>
    
    
   
</head>
<body>
    <div id="navigation">
        <h3>选择题型</h3>


    
        <button onclick="loadQuestions(分数加减运算, '分数加减运算')">分数加减运算</button><br>
        <button onclick="loadQuestions(分数混合运算, '分数混合运算')">分数混合运算</button><br>
        <button onclick="loadQuestions(二元一次方程组, '二元一次方程组')">二元一次方程组</button><br>

        
        <button onclick="loadQuestions(分数二元一次方程组01, '分数二元一次方程组01')">分数二元一次方程组01</button><br>
        <button onclick="loadQuestions(鸡兔同笼头和差, '鸡兔同笼头和差')">鸡兔同笼头和差</button><br>
        <button onclick="loadQuestions(鸡兔同笼头脚和, '鸡兔同笼头脚和')">鸡兔同笼头脚和</button><br>

        <button onclick="loadQuestions(根式运算01简单有理化, '根式运算01简单有理化')">根式运算01简单有理化</button><br>
         <button onclick="loadQuestions(直角坐标系运算01两点距离, '直角坐标系运算01两点距离')">直角坐标系运算01两点距离</button><br>


        
    </div>

    <div id="game-container">
       <h3>玖数学测训系统</h3>
        <div id="current-topic"></div> <!-- 新添加的元素 -->

        <div id="equation"></div>
        <div id="options"></div>
        <div id="scoreboard">现在得分:<span id="score">0</span>,已回答:<span id="answered">0</span></div>
        <div id="rounds-scoreboard"></div>
    </div>

<link rel="stylesheet" href="styles.css">
<script src="script.js"></script>



    <script>
        let currentQuestionBank;
        let currentEquationSystem;
        let score = 0;
        let questionsAnswered = 0;
        let roundsScores = [];
        let currentTopic = '';



function loadQuestions(questionBank, topic) {
    currentQuestionBank = questionBank;
    currentTopic = topic;
    score = 0;
    questionsAnswered = 0;
    updateScoreboard();
    updateRoundsScoreboard();
    document.getElementById('current-topic').textContent = `玖数学: ${currentTopic}`; // 更新题型名称
    startNewRound();
}

        function generateEquationSystem() {
            const randomIndex = Math.floor(Math.random() * currentQuestionBank.length);
            const { equation, correctOption, incorrectOptions } = currentQuestionBank[randomIndex];

            const correctIndex = Math.floor(Math.random() * 4);
            const options = [...incorrectOptions];
            options.splice(correctIndex, 0, correctOption);

            currentEquationSystem = { equationSystem: equation, correctIndex, options };
        }

        function generateOptions() {
            const labels = ['A', 'B', 'C', 'D'];
            return currentEquationSystem.options.map((option, index) => `<div class="option" onclick="checkAnswer(${index})"><span>${labels[index]}. \\(${option}\\)</span></div>`).join('');
        }

        function displayEquationSystem() {
            generateEquationSystem();
            document.getElementById('equation').innerHTML = currentEquationSystem.equationSystem;
            document.getElementById('options').innerHTML = generateOptions();
            MathJax.typeset();
        }

        function startNewRound() {
            if (questionsAnswered >= 10) {
                roundsScores.push({ topic: currentTopic, score: score });
                score = 0;
                questionsAnswered = 0;
                updateRoundsScoreboard();
            }
            displayEquationSystem();
        }

        function checkAnswer(selectedIndex) {
            if (parseInt(selectedIndex) === currentEquationSystem.correctIndex) {
                score++;
            }

            questionsAnswered++;
            updateScoreboard();
            startNewRound();
        }

        function updateScoreboard() {
            document.getElementById('score').textContent = score;
            document.getElementById('answered').textContent = questionsAnswered;
        }

        function updateRoundsScoreboard() {
            let roundsScoresText = roundsScores.map((round, index) => `第${index + 1}轮 (${round.topic}): ${round.score}分共10题`).join('<br>');
            document.getElementById('rounds-scoreboard').innerHTML = roundsScoresText;
        }

        // 默认加载分数混合运算题库
        window.onload = () => loadQuestions(分数加减运算, '分数加减运算');
    </script>
</body>
</html>
